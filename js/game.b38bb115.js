!function e(t,i,o){function a(n,l){if(!i[n]){if(!t[n]){var s="function"==typeof require&&require;if(!l&&s)return s(n,!0);if(r)return r(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[n]={exports:{}};t[n][0].call(d.exports,function(e){var i=t[n][1][e];return a(i?i:e)},d,d.exports,e,t,i,o)}return i[n].exports}for(var r="function"==typeof require&&require,n=0;n<o.length;n++)a(o[n]);return a}({1:[function(e,t,i){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}var a=e("./states"),r=o(a),n=new Phaser.Game(1e3,480,Phaser.AUTO);Object.keys(r).forEach(function(e){return n.state.add(e,r[e])}),n.state.start("Menu")},{"./states":3}],2:[function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"preload",value:function(){this.game.stage.backgroundColor="#eee",this.game.load.image("gameover","./assets/images/gameover.png")}},{key:"create",value:function(){this.add.button(200,15,"Play again",this.startGame,this),this.game.add.text(235,350,"LAST SCORE",{font:"bold 16px sans-serif",fill:"#46c0f9",align:"center"}),this.game.add.text(350,348,score.toString(),{font:"bold 20px sans-serif",fill:"#fff",align:"center"})}},{key:"startGame",value:function(){this.state.start("Game")}}]),t}(Phaser.State);i["default"]=l},{}],3:[function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("./menu");Object.defineProperty(i,"Menu",{enumerable:!0,get:function(){return o(a)["default"]}});var r=e("./preload");Object.defineProperty(i,"Preload",{enumerable:!0,get:function(){return o(r)["default"]}});var n=e("./play");Object.defineProperty(i,"Play",{enumerable:!0,get:function(){return o(n)["default"]}});var l=e("./game-over");Object.defineProperty(i,"GameOver",{enumerable:!0,get:function(){return o(l)["default"]}})},{"./game-over":2,"./menu":4,"./play":5,"./preload":6}],4:[function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"preload",value:function(){this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.stage.backgroundColor="#eee",this.game.load.image("menu","../img/menu.5ccc5e26.png")}},{key:"create",value:function(){this.add.button(200,15,"menu",this.startGame,this)}},{key:"startGame",value:function(){this.state.start("Preload")}}]),t}(Phaser.State);i["default"]=l},{}],5:[function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=void 0,s=void 0,u=void 0,d=void 0,h=void 0,c=void 0,p=void 0,y=void 0,f=void 0,g=void 0,m=void 0,b=void 0,v=void 0,w=void 0,P=void 0,O=void 0,_=0,k=0,x=700,E=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"create",value:function(){this.music=this.game.add.audio("playMusic"),this.bulletHitSound=this.add.sound("bulletHit"),this.enemyExplosionSound=this.add.sound("enemyExplosion"),this.playerExplosionSound=this.add.sound("playerExplosion"),this.gameOverSound=this.add.sound("gameOver"),this.music.loopFull(),this.game.physics.startSystem(Phaser.Physics.ARCADE),O=this.game.add.tileSprite(0,0,1e3,600,"background"),l=this.game.add.sprite(.5*this.game.world.width,this.game.world.height-56,"player1"),l.anchor.setTo(.5,.5),this.game.physics.enable(l,Phaser.Physics.ARCADE),l.body.collideWorldBounds=!0,w=this.game.add.sprite(.5*this.game.world.width,this.game.world.height-0,"flay1"),w.animations.add("fly",[1,2,3,4,5,6,7,8],40),w.anchor.setTo(.5,.5),this.game.physics.enable(w,Phaser.Physics.ARCADE),w.body.collideWorldBounds=!0,s=this.game.add.sprite(.5*this.game.world.width,this.game.world.height-(this.game.world.height-75),"player2"),s.anchor.setTo(.5,.5),s.angle=180,this.game.physics.enable(s,Phaser.Physics.ARCADE),s.body.collideWorldBounds=!0,P=this.game.add.sprite(.5*this.game.world.width,this.game.world.height-(this.game.world.height-25),"flay2"),P.animations.add("fly2",[1,2,3,4,5,6,7,8],40),P.anchor.setTo(.5,.5),P.angle=180,this.game.physics.enable(P,Phaser.Physics.ARCADE),P.body.collideWorldBounds=!0,u=this.game.add.group(),u.enableBody=!0,u.physicsBodyType=Phaser.Physics.ARCADE,u.createMultiple(30,"bullet1"),u.setAll("anchor.x",.5),u.setAll("anchor.y",3),u.setAll("outOfBoundsKill",!0),u.setAll("checkWorldBounds",!0),d=this.game.add.group(),d.enableBody=!0,d.physicsBodyType=Phaser.Physics.ARCADE,d.createMultiple(30,"bullet2"),d.setAll("anchor.x",.5),d.setAll("anchor.y",3),d.setAll("outOfBoundsKill",!0),d.setAll("checkWorldBounds",!0),g=this.game.add.group(),this.game.add.text(this.game.world.width-80,.5*this.game.world.height+120,"Player 1",{font:"20px Arial",fill:"#1d9ba9"});for(var e=0;e<5;e++){var t=g.create(this.game.world.width-40,this.game.world.height-300+40*e,"ship1");t.anchor.setTo(.5,.5),t.angle=90,t.alpha=.6}m=this.game.add.group(),this.game.add.text(this.game.world.width-this.game.world.width+15,.5*this.game.world.height-134,"Player 2",{font:"20px Arial",fill:"#da1100"});for(var i=0;i<5;i++){var o=m.create(this.game.world.width-this.game.world.width+40,.5*this.game.world.height-90+40*i,"ship2");o.anchor.setTo(.5,.5),o.angle=90,o.alpha=.6}b=this.game.add.text(this.game.world.centerX,this.game.world.centerY," ",{font:"30px Arial",fill:"#fff"}),b.anchor.setTo(.5,.5),b.visible=!1,v=this.game.add.group(),v.createMultiple(30,"kaboom"),v.forEach(this.setupInvader,this),p=this.game.input.keyboard.createCursorKeys(),h=this.game.input.keyboard.addKey(Phaser.Keyboard.UP),y=this.game.input.keyboard.addKey(Phaser.Keyboard.A),f=this.game.input.keyboard.addKey(Phaser.Keyboard.D),c=this.game.input.keyboard.addKey(Phaser.Keyboard.S)}},{key:"update",value:function(){w.animations.play("fly"),P.animations.play("fly2"),O.tilePosition.y+=2,l.alive&&(l.body.velocity.setTo(0,0),w.body.velocity.setTo(0,0),p.left.isDown?(l.body.velocity.x=-200,w.body.velocity.x=-200):p.right.isDown&&(l.body.velocity.x=200,w.body.velocity.x=200),h.isDown&&this.fireBullet1(),this.game.physics.arcade.overlap(d,l,this.player2HitsPlayer1,null,this)),s.alive&&(s.body.velocity.setTo(0,0),P.body.velocity.setTo(0,0),y.isDown?(s.body.velocity.x=-200,P.body.velocity.x=-200):f.isDown&&(s.body.velocity.x=200,P.body.velocity.x=200),c.isDown&&this.fireBullet2(),this.game.physics.arcade.overlap(u,s,this.player1HitsPlayer2,null,this))}},{key:"player2HitsPlayer1",value:function(){this.bullet2.kill();var e=g.getFirstAlive();e&&(e.kill(),this.playerExplosionSound.play());var t=v.getFirstExists(!1);t.reset(l.body.x,l.body.y),t.play("kaboom",30,!1,!0),g.countLiving()<1&&(l.kill(),w.kill(),d.callAll("kill"),b.text=" Player 2 won \n GAME OVER \n Click to restart",b.visible=!0,this.music.stop(),this.gameOverSound.play(),this.game.input.onTap.addOnce(this.restart,this))}},{key:"player1HitsPlayer2",value:function(){this.bullet1.kill();var e=m.getFirstAlive();e&&(e.kill(),this.playerExplosionSound.play());var t=v.getFirstExists(!1);t.reset(s.body.x,s.body.y),t.play("kaboom",30,!1,!0),m.countLiving()<1&&(s.kill(),P.kill(),u.callAll("kill"),b.text=" Player 1 won \n GAME OVER \n Click to restart",b.visible=!0,this.music.stop(),this.gameOverSound.play(),this.game.input.onTap.addOnce(this.restart,this))}},{key:"fireBullet1",value:function(){this.game.time.now>_&&(this.bullet1=u.getFirstExists(!1),this.bulletHitSound.play("",0,.5),this.bullet1&&(this.bullet1.reset(l.x,l.y+2),this.bullet1.body.velocity.y=-800,_=this.game.time.now+x))}},{key:"fireBullet2",value:function(){this.game.time.now>k&&(this.bullet2=d.getFirstExists(!1),this.bulletHitSound.play("",0,.5),this.bullet2&&(this.bullet2.reset(s.x,s.y+98),this.bullet2.body.velocity.y=800,k=this.game.time.now+x))}},{key:"setupInvader",value:function(e){e.anchor.x=.1,e.anchor.y=.2,e.animations.add("kaboom")}},{key:"restart",value:function(){this.music.loopFull(),g.callAll("revive"),m.callAll("revive"),l.revive(),w.revive(),s.revive(),P.revive(),b.visible=!1}}]),t}(Phaser.State);i["default"]=E},{}],6:[function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),n(t,[{key:"preload",value:function(){this.game.load.image("player1","./img/player1.png"),this.game.load.spritesheet("flay1","./img/play1-28-40.png",100,40),this.game.load.image("player2","./img/player2.png"),this.game.load.spritesheet("flay2","./img/play2-100-32.png",100,32),this.game.load.image("bullet1","./img/bullet_blue.png"),this.game.load.image("bullet2","./img/bullet_red.png"),this.game.load.spritesheet("kaboom","./img/explode.png",128,128),this.game.load.image("background","./img/background.png"),this.game.load.image("ship1","./img/player1-leves.png"),this.game.load.image("ship2","./img/player2-leves.png"),this.load.audio("playMusic",["audio/music/play.0a0062e8.mp3"]),this.load.audio("bulletHit",["audio/sound/bullet-hit.9a97f501.mp3"]),this.load.audio("enemyShot",["audio/sound/enemy-shot.66475f7a.mp3"]),this.load.audio("enemyExplosion",["audio/sound/enemy-explosion.4615a576.mp3"]),this.load.audio("playerShot",["audio/sound/player-shot.a6652ce2.mp3"]),this.load.audio("playerExplosion",["audio/sound/player-explosion.172e615c.mp3"]),this.load.audio("gameOver",["audio/sound/game-over.e286d7f9.mp3"])}},{key:"create",value:function(){this.state.start("Play")}}]),t}(Phaser.State);i["default"]=l},{}]},{},[1]);